import time
import serial

delay = 0.1


d = serial.Serial('/dev/ttyUSB0', 9600)
d.write('U')
time.sleep(1)
d.write('E')
time.sleep(1)
d.write('Q\x0d')   # Set baud rate to 115200
time.sleep(1)
d.baudrate = 115200
time.sleep(1)
d.write('E')
time.sleep(0.1)

print '3'
time.sleep(1)
print '2'
time.sleep(1)
print '1'
time.sleep(1)
print 'start'
s = time.time()
d.write('s\x00\x00\x00\xff\xff123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\x00')
time.sleep(delay)
d.write('s\x00\x06\x00\xff\xff223456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\x00')
time.sleep(delay)
d.write('s\x00\x0c\x00\xff\xff323456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\x00')
time.sleep(delay)
d.write('s\x00\x12\x00\xff\xff423456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\x00')
time.sleep(delay)
d.write('s\x00\x18\x00\xff\xff523456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\x00')
time.sleep(delay)
d.write('s\x00\x1e\x00\xff\xff623456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\x00')
time.sleep(delay)
d.write('s\x00\x24\x00\xff\xff7234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890\x00')

# s = time.time()
print time.time() - s - 3e-6

time.sleep(1)

d.close()
